@import "mixins";
@import "compass/css3";

$w : 1694;
$wp : $w +px;
$mobile: 600px;

nav{
	-webkit-backface-visibility: hidden;
	text-transform: uppercase;
	font-weight: bold;
	position: relative;
	bottom: 110px;
	max-width: $wp;
	margin-bottom: -102px;
	font-size: 0.625em;  //10 /16
	position: fixed;
	z-index: 1000;

	width: 990px;

	//Open state
	// left: 50%;
	// margin-left: -495px;
	// width: 110px;

	a, a:focus, a:active{
		outline: 0;
	}
	.wrap{

	}
	.row1, .row2, .expandArrow{
		
	}
	.row1, .row2, .shadow, .expandArrow{
		height: 87px;
		@include bg-gradient(#2e2a26, #403b37, #1d1916);
	}
	.speedo{
		cursor: pointer;
		width: 100px;
		height: 100px;
	}
	.row1{
		// background:rgba(200,0,0, 0.3);
		position: fixed;		
		// width: pc(200 /$w );
		width: 33%;
		float: left;
		z-index: 0;
		//left: 0px;
	}

	.row2{
		width: 949px;
		margin: 0 auto;
		z-index: 1;
		position: relative;
		margin-left: -838px;

		img.game{
			float: left;
			margin-top: -31px;
			margin-left: -54px;
			z-index: 10;
			position: relative;
		}
		img.flogo{
			cursor: pointer;
			position: absolute;
			top: 0;
			right: 0;
			float: left;
			-webkit-transition: opacity 0.6s;
		  	-moz-transition: opacity 0.6s;
		  	-ms-transition: opacity 0.6s ;
		  	-o-transition: opacity 0.6s;
		  	transition: opacity 0.6s;
		}
		img.flogo:hover{
			opacity: 1 !important;
		}
		.speedoContainer{
			background:black;
			height:86px;
			width:110px;
			background-image: url(../img/speedobg.jpg);
			background-repeat: no-repeat;
			position: absolute;
			right: 0px;
			cursor: pointer;
			.more{
				position: absolute;
				bottom: 7px;
				font-size: 1.6em;
				width: 100%;
				background: url(../img/speedoMore.png) no-repeat;
				padding-left: 33px;
				line-height: 14px;
				left: 10px;
				color: white;
			}

		}
		.speedoContainer img{
			position: absolute;
			left:45%;
			bottom: -4px;

			left: 50%;
			bottom: -4px;
		}
		.speedo{
			height: 55px;
			overflow:hidden;
			position:relative;

			position: absolute;
			top: 2px;
			

		}
		.expandArrow{
			position: absolute;
			right: -30px;
			width: 30px;
			cursor: pointer;
			img{
				position: absolute;
				top:40%;
				left: 30%;
			}
		}
		.shadowBox{
			margin-left: -53px;
			// background:rgba(0,0,200, 0.3);
			float: left;
			width: 100px;
			overflow: hidden;
		}
		.shadow{
			height: 86px;
			// background: orange;
			margin-left: 85px;
			width: 30px;
			@include box-shadow(-24px 0px 36px 7px rgba(22, 20, 19, 0.88));
		}
		.popShare{
			 cursor: pointer;
		}
		.shareBox{cursor: default}
		.popShare a{
			div.skewL{
				margin-left: -2px;
			}
			padding-right: 2.692em; // 35/13px
	    	position: relative;
			z-index: -1;
		}
	}

	.redBox{
		float: left;
		height: 100%;
		font-size: 1.3em;
		margin-top: 0px;
		@include box-shadow(-20px 0px 17px 4px rgba(37, 35, 33, 0.08));
		
		div{
		-webkit-backface-visibility: hidden;
		}
		a{
			float: left;
			margin-top: 26px;
			margin-left: 2px;
			display: inline-block;
			color: #ada8a1;
			text-transform: uppercase;
			@include bg-gradient(#2a2725, #2e2a27, #282523);
			padding: pem(10) pem(20);

			&.active{
				@include bg-gradient(#8c241d, #822721, #93211b);
				color: #fff;
			}
		}
		&.buynow{
			@include box-shadow(0 0 rgba(37, 35, 33, 0));
		}
		&.sitelets a{
			padding-left: pem(22 * 1.230769230769231);
			padding-right: pem(22 * 1.230769230769231);
		}

	}
	.shareBox{
		color: #fff;
		$h: 91;
		width: 345px;
		height: $h + px;
		float: left;
		position: absolute;
		margin-top: -$h + -10 +px;
		border-bottom: 100px solid black;
	    border-left: 37px solid transparent;
	    margin-left: -19px;
	    left: -150px;
	    
	    .graphic{
	    	height: 100px;
	    	float: left;
	    	padding-left: 50px;
	    	padding-top: pem(5 * 1.230769230769231);
	    	div{
	    		text-transform: capitalize;
	    		padding-top: 35px;
	    		p{
	    			padding-bottom: 5px;
	    		}
	    	}
	    	iframe{
	    		z-index: 10;
	    	}
		}
	}
	.shareBox .arrow {
		border: solid transparent;
		content: " ";
		height: 0;
		width: 0;
		position: absolute;
		pointer-events: none;
		left: 42%;
		margin-left: 3px;
		top: 100px;
	}
	.info, .share, .follow{
		float: left;
		height: 100%;
		a{
			float: left;
			height: 100%;
			color: darken(#ada8a1, 15%);
			line-height: 80px;
		}
		
	}
	.info{
		 @include box-shadow(-20px 0px 27px 0px rgba(37, 35, 33, 0.7), inset -34px 0px 37px -17px #1D1B1A);
		a{			
			padding: 0 2.3em;
			// fix hotspot as parent's border does not count
			margin-top: -1px;
			line-height: 82px;
		}		
	}
	.btnShareFB, .btnShareTwitter{
	
		text-align: left !important;
		img{
			float: left;
			margin-left: 5px;
			margin-top: 11px;
			margin-right: 4px;
		}
		height: 50% !important;
		line-height: 40px !important;
		position: absolute;
		left: 0;
		display: none;
	}
	.btnShareFB{
		@include box-shadow(inset -34px 0px 37px -17px #1D1B1A, inset -2px -3px 4px -4px grey);
	}
	.btnShareTwitter{
		top: 40px;
		@include box-shadow(inset -34px 0px 37px -17px #1D1B1A);
		img{
			margin-top: 8px;
			margin-left: 6px;
		}
		div{
			margin-top: -3px;
		}
	}


	// div.share:hover a.sharelink{
	// 	display: none;
	// }
	// div.share:hover a.shareLink div{
	// 	display: none;
	// }
	// div.share:hover .btnShareFB{
	// 	display: block;
	// }
	// div.share:hover .btnShareTwitter{
	// 	display: block;
	// }


	div.share:hover{
		* { display: block; }
		a.shareLink { display: none; }
	}
	.shareLink{
		overflow: hidden;
	}

	.share, .follow{
		cursor: pointer;
		width: 96px;
		a{
			width: 100%;
			text-align: center;
		}
	}
	.share{
		@include box-shadow(inset -34px 0px 37px -17px rgba(29, 27, 26, 0.3));
	}
	.follow{
		@include box-shadow(inset -34px 0px 37px -17px #1D1B1A);
	}
	.forzaText{
		
		height: 100%;
		width: 186px;
		float: left;
		padding-left: pem(45 * 1.6);
		margin-left: -2em;
		color: #514d4b;
		padding-top: pem(10 * 1.6);
		border-top: 1px #605c5a solid;
		.ftbg{
			background: url(../img/forzaText.png) no-repeat;
			height: 48px;
			width: 148px;
			margin-left: -1.3em;

		}
	}

	//This is purely to prevent shadow masking over link
	.redBox, .info, .share, .follow{
		position: relative;
	}
	.buynow{z-index: 10; padding-left: 1.4em;}
	.trailer{z-index: 9;}
	.site{z-index: 8}
	.info{ z-index: 7}
	.share{ z-index: 6}
	.follow{z-index: 5}
	.trailer, .sitelets, .popShare, .expandArrow, .row1, .buynow, .site{
		 border-top: 1px #605c5a solid;
	}
}

nav.open{
	.expandArrow{
		right: -18px;
	}
}

/* Fennell's Fixed footer at bottom */
//Take this off for sitelets
.hub{
	@media screen and (min-width: $mobile) {

		nav{
			width: 100% !important;

			left: 50% !important;
			margin-left: -385px !important;
			margin-bottom: -110px !important;
			.row1{
				left: 0px !important;
				display: block !important;
			}
			.row2{
				width: 100% !important;
			}
			.flogo, .speedoContainer{
				display: none;
			}
			.flogo{
				position: relative;
				display: block;
				opacity: 1 !important;
				margin-left: -2px;
				padding-left: 0;
			}
		}

	}
	@media screen and (min-width : 996px){
		.buynow{
			
		}
		nav .row2{
			margin-left: -110px;
		}
		img.game{
			margin-right: 18px;
		}
		

	}

	.popShare>a .skewL{
		padding-left: 80px;
		padding-right: 80px;
	}
	nav .flogo{
		position: relative !important;
		z-index: 10;
	}
	.sitelets{
		display:none;
	}
	nav .shareBox{
		left: -21px;
		margin-left: 0;
		.arrow{
			left: 18%;
		}
	}
}

//----- End of fixed footer


@media screen and (min-width: #{$mobile + 1}) and (max-width : 996px){
	img.game{
		margin-left: 6%;
		margin-top: 0.6em;
		display: none;
	}
	nav .row2 .shadow{
		display: none;
	}
	nav.open{
		left: 50% !important;
		margin-left: -385px !important;
		width: 110px;
		margin-bottom: -110px;
		.forzaText{margin-left:9px}
		.row1{
			left: 0px;
			display: block;
		}
		.row2{
			margin-left: 0px;
		}
		.flogo{
			display: none !important;
		}
	}
	nav{
		.trailer, .sitelets, .popShare, .expandArrow, .row1, .buynow, .site, .forzaText{
			border-top: none;
		}
		.forzaText{
			padding-left: 0px;
			width: 115px;
		}
		.buynow{
			padding-left: 2.5em !important;
		}
	}


}

@media screen and (min-width: #{$mobile +1}) and (max-width: 800px){
	.hub nav.open, nav.open{
		margin-left: -294px !important;
	}
}

@media screen and (max-width: $mobile) {
	.forzaText{
		position: absolute;
	}
	nav {
		position: static;
		margin-left:0 !important;
		width:100% !important;
		bottom:0;
		.sitelets{display:none}
		.row1 {
			display: none;
		}
		.row2 {
			z-index: 201;
			width:100%;
			margin-left:0;
			.shadowBox {
				display: none;
			}
			.groupMe {
				position: fixed;
				top:0;
				right: -5px;
				//left:80px;
				//height:80px;
				width:100%;
				//height:60px;
				display: none;



				//height:100%;
				//display: -webkit-box;

				//padding-right:145px;
				.redBox {
					width:25%;
					height:100%;
					
					&.trailer.mob a, &.site a{
							background:none;
					}
					//@include background-image(linear-gradient(20% -34%, #3d3834, #1c1816));
					@include display-box;
  					//@include box-orient(vertical);
  					@include box-align(center);
					a {
						color:#fff;
						//margin-top:20%;
						margin:0;
						width:100%;
						float:none;
						display:block;
						font-size: 1.3em;
						padding: 0.2em 0;

					}
					.skewL{
						margin: 0 auto;
						width: 70%;
					}
				}
			}
			.groupMeToo {
				width:96%;
				padding:0 2%;
				.trailer{
						display: none;
				}
			}
			.flogo {
				display: none;
			}
			.forzaText {
				display: none;
			}
			.share, .follow, .info {
				&:hover, &:focus, &:active {
					a {
						display: none;
					}
				}
				width:20%;
			}
			.info {
				box-shadow: -20px 0px 27px 0px rgba(37, 35, 33, 0.5), inset -24px 0px 37px -15px rgba(0,0,0,0.2);
			}
			.buynow, .trailer, .site, img.game {
				// position: fixed;
				// top:0;
				// height:80px;
				// z-index: 202;
				text-align: center;
				float:right;
			}
			.site, .trailer {
				@include single-box-shadow(rgba(black, 0.3), -34px, -5px, 30px, -11px, true); 
			}
			.redBox {
				&.buynow {
					margin-left:0;
					margin-right: 12%;
					width: 18%;

					a{
						width:120%;
						div{
							width: 50% !important;
						}
					}
				}
			}
			img.game {
				z-index: 100;
				margin-top: 1%;
			}
		}
	}
	.speedoContainer{
		display: none;
	}
	.expandArrow{
		display: none;
	}
	.mob.forzaText, .popShare{
		display: block !important;
	}
	.mob.forzaText{
		height: auto !important;
		margin-top: 1.92em;
	}
	.popShare{
		float: right !important;
		&.skewR, .skewL{
			-webkit-transform: skew(0, 0);
		}
	}
	.popShare a{
		font-size: 1.3em;
		margin-top: 25% !important;
		background: none !important;
	}
	.row2{
	}
	.trailer{
		display: none;
	}
	img.game{
		max-width: 100%;
		height: 65px;
	}
	.shareBox{
		left: -232px !important;
	}
	.popShare:hover .shareBox{
		display: block;
	}
	.arrow{
		left: 80% !important;
	}
	.popShare>a .skewL{
		padding-left: 0 !important;
		padding-right: 0 !important;
	}
	nav {
		.trailer, .buynow, .site{
			border-top: 0 !important;
		}
	}
}

footer{
	text-align: center;
	padding-top: pem(20);
	text-transform: uppercase;
	span{
		font-size: pem(11);
		line-height: pem(22.42);
		color: lighten(#3e3b36, 8%);
		padding: 0 pem(8);
	}
	.info{
		padding-left: pem(40 * 1.5);
	}
	.fb, .twitter{
		height: 20px;
		padding-left: 2px;
		display: inline-block;

		a{
			position: relative;
			line-height: 20px;
			color: lighten(#3e3b36, 8%);
			padding-left: pem(19 * 1.5);
			&:active{
				color: lighten(#3e3b36, 8%);
			}
			&:hover{
				text-decoration: underline;
			}
			img{
				position: absolute;
				left: pem(-4 * 1.5);
			}
		}
	}
}

@media screen and (max-width: 400px) {
	nav .dreams .skewL{
		margin-right: 23% !important;
	}
	
}